audio_file sound ('abcslow2.mp3')


var pause_duration = 2s

%define do_wait ()
    wait (5s)
%end

%define do_pause ()
    report ('Pausing for $(pause_duration / 1e6) seconds')
    schedule (
        delay = pause_duration
        duration = 0
        repeats = 1
        ) {
        resume_experiment ()
    }
    pause_experiment ()
%end


protocol {
    report ('Sound should not be playing')
    do_wait ()

    do_pause ()

    report ('Sound should not be playing')
    do_wait ()

    report ('Starting sound')
    play_sound (sound)
    do_wait ()

    do_pause ()
    do_wait ()

    do_pause ()
    do_wait ()

    report ('Sound should now stop')
}
